development:
  sessions:
    default:
      database: crucible_development
      hosts:
        - <%= ENV['MONGODB_HOST'] || "localhost:27017" %>
        
      options:
<% if ENV['MONGODB_USER'] != nil %>       
        user: <%= ENV['MONGODB_USER'] %>
<% end %>
<% if ENV['MONGODB_PASSWORD'] != nil %>       
        user: <%= ENV['MONGODB_PASSWORD'] %>
<% end %>

test:
  sessions:
    default:
      database: crucible_test
      hosts:
        - <%= ENV['MONGODB_HOST'] || "localhost:27017" %>
      options:
        read: primary
        # In the test environment we lower the retries and retry interval to
        # low amounts for fast failures.
        max_retries: 1
        retry_interval: 0
<% if ENV['MONGODB_USER'] != nil %>       
        user: <%= ENV['MONGODB_USER'] %>
<% end %>
<% if ENV['MONGODB_PASSWORD'] != nil %>       
        user: <%= ENV['MONGODB_PASSWORD'] %>
<% end %>

production:
  sessions:
    default:
      database: crucible_production
      hosts:
        - <%= ENV['MONGODB_HOST'] || "localhost:27017" %>

      options:
<% if ENV['MONGODB_USER'] != nil %>       
        user: <%= ENV['MONGODB_USER'] %>
<% end %>
<% if ENV['MONGODB_PASSWORD'] != nil %>       
        user: <%= ENV['MONGODB_PASSWORD'] %>
<% end %>
